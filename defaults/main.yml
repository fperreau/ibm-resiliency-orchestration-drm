---
##
# IBM Resiliency Orchestration DRM role
#
# Author: F.PERREAU
##

#
# ROLE VARIABLES
#

sql_id: 99
sql_port: 3306
sql_pass: "secret"
drm_ip: "{{ VM[inventory_hostname].IP }}"

drm_mode: "standard"
drm1_ip: "{{ drm_ip }}" 
drm2_ip: "{{ drm_ip }}" 
scr_ip: "{{ drm_ip }}"

#
# ROLE PARAMETERS
#

FILES: "DRM_8.0.4.0"
BUILD: "/tmp/build.Server"

EAMSROOT: /opt/panaces
TOMCAT_HOME: /opt/tomcat9
SCTRL_HOME: /opt/SiteController

BINARY_FILES:
  - {archive: Server.tar.gz, creates: install.bin}
  - {archive: MariaDB.tgz, creates: MariaDB-server-10.3.17-1.el8.x86_64.rpm}
  - {archive: Tomcat.tgz, creates: apache-tomcat-9.0.27.tar.gz}
  - {archive: ThirdParty.tgz, creates: ThirdPartyJSLib.zip}

TEMPLATE_FILES:
  - PanacesServerInstaller.properties
  - tomcat_conf_server.xml
  - my_drm.cnf
  - panaces.service

MARIADB_PKG:
  - "{{ BUILD }}/MariaDB-common-10.3.17-1.el8.x86_64.rpm"
  - "{{ BUILD }}/MariaDB-client-10.3.17-1.el8.x86_64.rpm"
  - "{{ BUILD }}/MariaDB-server-10.3.17-1.el8.x86_64.rpm"

TOMCAT_SRC: "apache-tomcat-9.0.27"
TOMCAT_PKG: "{{ BUILD }}/{{ TOMCAT_SRC }}.tar.gz"

THIRDPARTY_JSLIB: "{{ BUILD }}/ThirdPartyJSLib.zip"
THIRDPARTY_GNULIB: "{{ BUILD }}/gnulib.zip"

BINARY_SITE_CONTROLLER_FILES:
  - {archive: SiteController.tar.gz, creates: Linux/VM/SiteController.bin}

TEMPLATE_SITE_CONTROLLER_FILES:
  - PanacesAgentNodeInstaller.properties
  - panaces.agentnode.service

PACKAGES:
  - zip
  - unzip
